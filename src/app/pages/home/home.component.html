<section class="home">
    <div class="container home__container">
        <div class="home__header">
          <ul class="home__options">
            <li class="home__filter">Filter</li>
            <li class="home__sort">Sort</li>
            <li class="home__settings">Settings</li>
          </ul>
        </div>
        <h2 class="home__title">Active questions</h2>

        <div class="home__posts">
            <article
              class="home__post"
              *ngFor="let post of posts"
            >
                <a [routerLink]="'/posts/' + post.id">
                    <h3 class="home__post-title">{{post.title}}</h3>
                </a>

                <div class="home__post-info">
                    <small class="home__post-date">{{post.date | date: 'd/M/yyyy, h:mm a'}}</small>

                    <ul class="home__post-tags">
                        <li class="home__post-tag" *ngFor="let tag of post.tags; let i = index">
                            {{tag}}
                        </li>
                    </ul>
                </div>

                <div class="home__post-moderation" *ngIf="isAdmin">
                  <button
                    class="home__post-approve"
                    type="button"
                    (click)="approvePost(post.id)"
                    *ngIf="!post.isApproved"
                  >Approve</button>
                  <button class="home__post-delete" type="button" (click)="deletePost(post.id)">Delete</button>
                </div>

                <p class="home__moderation-caption" *ngIf="(post.author === userEmail) && !isAdmin">
                  <i>Post on moderation</i>
                </p>
            </article>
        </div>
    </div>
</section>


<footer class="footer">
    <div class="container footer__container">
        <a routerLink="/create-post" class="footer__link">
            <img class="footer__plus" src="../../../assets/png/plus.png" alt="plus">
        </a>
    </div>
</footer>
